version: '3.8'

services:
  scan:
    build:
      context: .
      dockerfile: Dockerfile
    container_name: smlrag-scan
    env_file:
      # 使用根目录的 .env 文件
      - ../.env
    volumes:
      # 挂载 data 目录，用于扫描文件
      - ./data:/app/data
      # 如果需要热重载，可以挂载代码目录
      # - ./scan.py:/app/scan.py
      # - ./upload.py:/app/upload.py
    restart: unless-stopped
    # 如果需要暴露端口
    # ports:
    #   - "8000:8000"

