# SvelteKit æœåŠ¡å™¨å¤„ç†æµç¨‹è¯¦è§£

## ğŸ” ä»ç«¯å£ 3001 åˆ°é¡µé¢æ¸²æŸ“çš„å®Œæ•´é“¾è·¯

### é—®é¢˜ï¼šæµè§ˆå™¨è®¿é—® http://localhost:3001ï¼Œå‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ

è®©æˆ‘è¯¦ç»†æ‹†è§£æ¯ä¸€æ­¥ï¼š

---

## ğŸ“¡ æ­¥éª¤ 1ï¼šVite å¼€å‘æœåŠ¡å™¨å¯åŠ¨

```bash
npm run dev
```

**å‘ç”Ÿçš„äº‹æƒ…ï¼š**

```javascript
// package.json ä¸­çš„å‘½ä»¤
"dev": "vite dev"

// Vite æ‰§è¡Œæµç¨‹
1. è¯»å– vite.config.ts
2. å‘ç°ä½¿ç”¨äº† sveltekit() æ’ä»¶
3. å¯åŠ¨ HTTP æœåŠ¡å™¨ï¼Œç›‘å¬ 3001 ç«¯å£
4. ç­‰å¾…æµè§ˆå™¨è¯·æ±‚
```

**æ­¤æ—¶çš„çŠ¶æ€ï¼š**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Vite Dev Server        â”‚
â”‚  ç›‘å¬: localhost:3001   â”‚
â”‚  çŠ¶æ€: ç­‰å¾…è¯·æ±‚...      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“¡ æ­¥éª¤ 2ï¼šæµè§ˆå™¨å‘èµ· HTTP è¯·æ±‚

ç”¨æˆ·åœ¨æµè§ˆå™¨è¾“å…¥ï¼š`http://localhost:3001/`

**HTTP è¯·æ±‚å†…å®¹ï¼š**
```http
GET / HTTP/1.1
Host: localhost:3001
User-Agent: Mozilla/5.0 ...
Accept: text/html,application/xhtml+xml...
```

**è¯·æ±‚åˆ°è¾¾ï¼š**
```
æµè§ˆå™¨ â”€â”€HTTP GET /â”€â”€â†’ localhost:3001
                           â†“
                      Vite æœåŠ¡å™¨æ¥æ”¶
```

---

## âš™ï¸ æ­¥éª¤ 3ï¼šSvelteKit æ’ä»¶æ‹¦æˆªè¯·æ±‚

**Vite çš„æ’ä»¶æœºåˆ¶ï¼š**

```typescript
// vite.config.ts
export default defineConfig({
  plugins: [sveltekit()],  // â† SvelteKit æ’ä»¶
})
```

**SvelteKit æ’ä»¶åšçš„äº‹æƒ…ï¼š**

```javascript
// ä¼ªä»£ç  - SvelteKit æ’ä»¶å†…éƒ¨é€»è¾‘
function sveltekit() {
  return {
    name: 'sveltekit',
    configureServer(server) {
      // æ³¨å†Œä¸­é—´ä»¶ï¼Œæ‹¦æˆªæ‰€æœ‰è¯·æ±‚
      server.middlewares.use(async (req, res, next) => {
        if (req.url === '/') {
          // 1. è§£æè¯·æ±‚çš„ URL
          // 2. æŸ¥æ‰¾å¯¹åº”çš„è·¯ç”±
          // 3. æ¸²æŸ“é¡µé¢
          // 4. è¿”å› HTML
          const html = await renderPage(req.url)
          res.end(html)
        }
      })
    }
  }
}
```

**å·¥ä½œæµç¨‹ï¼š**
```
HTTP è¯·æ±‚ â†’ Vite æœåŠ¡å™¨ â†’ SvelteKit æ’ä»¶æ‹¦æˆª
                              â†“
                         å¼€å§‹å¤„ç†è¯·æ±‚
```

---

## ğŸ—‚ï¸ æ­¥éª¤ 4ï¼šè·¯ç”±åŒ¹é…ï¼ˆURL â†’ æ–‡ä»¶ï¼‰

**SvelteKit çš„è·¯ç”±åŒ¹é…é€»è¾‘ï¼š**

```javascript
// ä¼ªä»£ç  - SvelteKit å†…éƒ¨è·¯ç”±åŒ¹é…
function matchRoute(url) {
  // URL: "/"
  
  // 1. æ‰«æ src/routes/ ç›®å½•
  const routes = scanRoutes('src/routes/')
  /*
    æ‰«æç»“æœï¼š
    {
      '/': 'src/routes/+page.svelte',
      '/about': 'src/routes/about/+page.svelte',
      ...
    }
  */
  
  // 2. åŒ¹é… URL åˆ°æ–‡ä»¶
  if (url === '/') {
    return {
      layout: 'src/routes/+layout.svelte',  // å…¨å±€å¸ƒå±€
      page: 'src/routes/+page.svelte'       // é¡µé¢
    }
  }
  
  if (url === '/about') {
    return {
      layout: 'src/routes/+layout.svelte',
      page: 'src/routes/about/+page.svelte'
    }
  }
}
```

**æ–‡ä»¶ç³»ç»Ÿæ˜ å°„è§„åˆ™ï¼š**
```
URL è·¯å¾„              â†’  æ–‡ä»¶è·¯å¾„
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
/                     â†’  routes/+page.svelte
/about                â†’  routes/about/+page.svelte
/blog/123             â†’  routes/blog/[id]/+page.svelte
/api/users            â†’  routes/api/users/+server.ts
```

**æ­¤æ—¶æ‰¾åˆ°äº†ï¼š**
```
URL: /
  â†“
åŒ¹é…åˆ°æ–‡ä»¶:
  - routes/+layout.svelte (å…¨å±€å¸ƒå±€)
  - routes/+page.svelte (é¦–é¡µ)
```

---

## ğŸ—ï¸ æ­¥éª¤ 5ï¼šæ„å»º HTML å“åº”

### 5.1 åŠ è½½ app.html æ¨¡æ¿

**SvelteKit å†…éƒ¨é€»è¾‘ï¼š**

```javascript
// ä¼ªä»£ç 
async function renderPage(url) {
  // 1. è¯»å– HTML æ¨¡æ¿
  const template = readFile('src/app.html')
  /*
    template å†…å®¹ï¼š
    <!DOCTYPE html>
    <html lang="zh-CN">
      <head>
        <title>Svelte 5 åº”ç”¨</title>
        %sveltekit.head%
      </head>
      <body>
        <div>%sveltekit.body%</div>
      </body>
    </html>
  */
  
  // 2. å‡†å¤‡æ›¿æ¢å†…å®¹
  const head = []  // æ”¶é›† head å†…å®¹
  const body = []  // æ”¶é›† body å†…å®¹
  
  // ... ç»§ç»­ä¸‹ä¸€æ­¥
}
```

**ä¸ºä»€ä¹ˆæ˜¯ app.htmlï¼Ÿ**
```
SvelteKit çº¦å®šï¼š
  - app.html æ˜¯å”¯ä¸€çš„ HTML æ¨¡æ¿
  - å¿…é¡»åŒ…å« %sveltekit.head% å’Œ %sveltekit.body%
  - æ‰€æœ‰é¡µé¢éƒ½åŸºäºè¿™ä¸ªæ¨¡æ¿ç”Ÿæˆ
```

---

### 5.2 æ¸²æŸ“ç»„ä»¶æ ‘

**ç»„ä»¶æ¸²æŸ“é¡ºåºï¼š**

```javascript
// ä¼ªä»£ç  - ç»„ä»¶æ¸²æŸ“è¿‡ç¨‹
async function renderComponents(url) {
  const components = []
  
  // 1. æ¸²æŸ“ +layout.svelte
  const layoutComponent = await import('routes/+layout.svelte')
  const layoutHtml = layoutComponent.render({
    // ä¼ å…¥ slot å†…å®¹
    $$slots: { default: '<!-- ç­‰å¾…é¡µé¢å†…å®¹ -->' }
  })
  /*
    layoutHtml.html = `
      <div class="app">
        <nav class="navbar">...</nav>
        <main class="main-content">
          <!-- slot å ä½ç¬¦ -->
        </main>
      </div>
    `
    layoutHtml.css = "å¯¼èˆªæ æ ·å¼..."
    layoutHtml.head = []
  */
  
  // 2. æ¸²æŸ“ +page.svelte
  const pageComponent = await import('routes/+page.svelte')
  /*
    +page.svelte å†…å®¹:
    import HomePage from '$lib/pages/HomePage.svelte'
    <HomePage />
  */
  
  // 3. æ¸²æŸ“ HomePage.svelte
  const homePageComponent = await import('lib/pages/HomePage.svelte')
  const homePageHtml = homePageComponent.render()
  /*
    homePageHtml.html = `
      <div class="home">
        <h1>Svelte 5 é¦–é¡µ</h1>
        <p>æ¬¢è¿ä½¿ç”¨...</p>
        ...
      </div>
    `
    homePageHtml.css = "é¦–é¡µæ ·å¼..."
    homePageHtml.head = ["<title>é¦–é¡µ - Svelte 5 App</title>"]
  */
  
  // 4. ç»„åˆæ‰€æœ‰å†…å®¹
  const finalHtml = layoutHtml.html.replace(
    '<!-- slot å ä½ç¬¦ -->',
    homePageHtml.html
  )
  
  const finalCss = layoutHtml.css + homePageHtml.css
  const finalHead = [...layoutHtml.head, ...homePageHtml.head]
  
  return {
    html: finalHtml,
    css: finalCss,
    head: finalHead
  }
}
```

**æ¸²æŸ“æ ‘ç»“æ„ï¼š**
```
app.html (HTML æ¨¡æ¿)
  â†“ å¡«å…… %sveltekit.head% å’Œ %sveltekit.body%
  â”‚
  â”œâ”€ head éƒ¨åˆ†
  â”‚   â”œâ”€ <title>é¦–é¡µ - Svelte 5 App</title>
  â”‚   â”œâ”€ <style>app.css æ ·å¼</style>
  â”‚   â”œâ”€ <style>+layout.svelte æ ·å¼</style>
  â”‚   â””â”€ <style>HomePage.svelte æ ·å¼</style>
  â”‚
  â””â”€ body éƒ¨åˆ†
      â””â”€ +layout.svelte æ¸²æŸ“ç»“æœ
          â”œâ”€ å¯¼èˆªæ 
          â””â”€ <main>
              â””â”€ +page.svelte â†’ HomePage.svelte æ¸²æŸ“ç»“æœ
                  â”œâ”€ <h1>æ ‡é¢˜</h1>
                  â”œâ”€ <p>å†…å®¹</p>
                  â””â”€ Counter ç»„ä»¶
```

---

### 5.3 æ›¿æ¢æ¨¡æ¿å ä½ç¬¦

**æœ€ç»ˆçš„ HTML ç”Ÿæˆï¼š**

```javascript
// ä¼ªä»£ç 
function buildFinalHtml(template, components) {
  let html = template
  
  // æ›¿æ¢ head
  const headContent = `
    <title>é¦–é¡µ - Svelte 5 App</title>
    <style>${components.css}</style>
    <script type="module" src="/@vite/client"></script>
  `
  html = html.replace('%sveltekit.head%', headContent)
  
  // æ›¿æ¢ body
  html = html.replace('%sveltekit.body%', components.html)
  
  return html
}
```

**æœ€ç»ˆç”Ÿæˆçš„ HTMLï¼š**

```html
<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8">
    <title>é¦–é¡µ - Svelte 5 App</title>
    
    <!-- æ”¶é›†çš„æ‰€æœ‰æ ·å¼ -->
    <style>
      /* app.css */
      body { margin: 0; }
      
      /* +layout.svelte çš„æ ·å¼ */
      .navbar { background: #2c3e50; }
      
      /* HomePage.svelte çš„æ ·å¼ */
      .home { padding: 2rem; }
    </style>
    
    <!-- Vite å®¢æˆ·ç«¯ï¼ˆç”¨äºçƒ­æ›´æ–°ï¼‰ -->
    <script type="module" src="/@vite/client"></script>
    
    <!-- Svelte è¿è¡Œæ—¶å’Œç»„ä»¶ä»£ç  -->
    <script type="module">
      import App from '/src/routes/+layout.svelte'
      // ... åˆå§‹åŒ–ä»£ç 
    </script>
  </head>
  <body>
    <div style="display: contents">
      <!-- æ¸²æŸ“å¥½çš„å®Œæ•´ HTML -->
      <div class="app">
        <nav class="navbar">
          <a href="/">Svelte 5 App</a>
          <a href="/about">å…³äº</a>
        </nav>
        <main class="main-content">
          <div class="home">
            <h1>Svelte 5 é¦–é¡µ</h1>
            <p>æ¬¢è¿ä½¿ç”¨ Svelte 5 + SvelteKitï¼</p>
            <div class="counter">
              <span>0</span>
              <button>-</button>
              <button>+</button>
            </div>
          </div>
        </main>
      </div>
    </div>
  </body>
</html>
```

---

## ğŸ“¤ æ­¥éª¤ 6ï¼šè¿”å› HTTP å“åº”

**æœåŠ¡å™¨å‘é€å“åº”ï¼š**

```javascript
// ä¼ªä»£ç 
function sendResponse(res, html) {
  res.writeHead(200, {
    'Content-Type': 'text/html; charset=utf-8',
    'Cache-Control': 'no-cache'
  })
  res.end(html)
}
```

**HTTP å“åº”å†…å®¹ï¼š**
```http
HTTP/1.1 200 OK
Content-Type: text/html; charset=utf-8
Content-Length: 12345

<!DOCTYPE html>
<html lang="zh-CN">
  <head>...</head>
  <body>...</body>
</html>
```

**ä¼ è¾“è¿‡ç¨‹ï¼š**
```
Vite æœåŠ¡å™¨ â”€â”€HTTP Responseâ”€â”€â†’ æµè§ˆå™¨
    (å®Œæ•´çš„ HTML)
```

---

## ğŸ¨ æ­¥éª¤ 7ï¼šæµè§ˆå™¨æ¸²æŸ“

**æµè§ˆå™¨æ”¶åˆ° HTML åçš„å¤„ç†ï¼š**

```
1. è§£æ HTML
   â†“
2. ä¸‹è½½ CSSï¼ˆå¦‚æœæœ‰å¤–éƒ¨æ–‡ä»¶ï¼‰
   â†“
3. ä¸‹è½½ JavaScript
   - /@vite/client (Vite å®¢æˆ·ç«¯)
   - /src/routes/+layout.svelte (ç»„ä»¶ä»£ç )
   - /src/lib/pages/HomePage.svelte
   - /src/lib/components/Counter.svelte
   â†“
4. æ‰§è¡Œ JavaScript
   - åˆå§‹åŒ– Svelte åº”ç”¨
   - ç»‘å®šäº‹ä»¶ç›‘å¬å™¨
   - æ¿€æ´»å“åº”å¼çŠ¶æ€
   â†“
5. æ¸²æŸ“é¡µé¢
   â†“
6. å»ºç«‹ WebSocket è¿æ¥ï¼ˆç”¨äº HMR çƒ­æ›´æ–°ï¼‰
```

---

## ğŸ”„ å®Œæ•´æµç¨‹æ€»ç»“

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. ç”¨æˆ·è¾“å…¥ URL                                             â”‚
â”‚    http://localhost:3001/                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 2. æµè§ˆå™¨å‘é€ HTTP è¯·æ±‚                                     â”‚
â”‚    GET / HTTP/1.1                                           â”‚
â”‚    Host: localhost:3001                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 3. Vite æœåŠ¡å™¨æ¥æ”¶è¯·æ±‚ï¼ˆç«¯å£ 3001ï¼‰                        â”‚
â”‚    - ç›‘å¬åœ¨ localhost:3001                                  â”‚
â”‚    - æ”¶åˆ°è¯·æ±‚åä¼ ç»™æ’ä»¶å¤„ç†                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 4. SvelteKit æ’ä»¶æ‹¦æˆªè¯·æ±‚                                   â”‚
â”‚    - è¯»å– vite.config.ts                                    â”‚
â”‚    - å‘ç° plugins: [sveltekit()]                            â”‚
â”‚    - SvelteKit æ¥ç®¡è¯·æ±‚å¤„ç†                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 5. è·¯ç”±åŒ¹é…ï¼ˆURL â†’ æ–‡ä»¶ï¼‰                                   â”‚
â”‚    URL: /                                                   â”‚
â”‚      â†“                                                      â”‚
â”‚    æ‰«æ src/routes/ ç›®å½•                                    â”‚
â”‚      â†“                                                      â”‚
â”‚    åŒ¹é…åˆ°ï¼š                                                 â”‚
â”‚      - routes/+layout.svelte (å¸ƒå±€)                         â”‚
â”‚      - routes/+page.svelte (é¡µé¢)                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 6. åŠ è½½ HTML æ¨¡æ¿                                           â”‚
â”‚    è¯»å– src/app.html                                        â”‚
â”‚    æ‰¾åˆ°å ä½ç¬¦ï¼š                                             â”‚
â”‚      - %sveltekit.head%                                     â”‚
â”‚      - %sveltekit.body%                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 7. æ¸²æŸ“ç»„ä»¶ï¼ˆä»å¤–åˆ°å†…ï¼‰                                     â”‚
â”‚    a) æ¸²æŸ“ +layout.svelte                                   â”‚
â”‚       - import app.css                                      â”‚
â”‚       - ç”Ÿæˆå¯¼èˆªæ  HTML                                     â”‚
â”‚       - é¢„ç•™ <slot /> ä½ç½®                                  â”‚
â”‚    â†“                                                        â”‚
â”‚    b) æ¸²æŸ“ +page.svelte                                     â”‚
â”‚       - import HomePage from '$lib/pages/HomePage.svelte'   â”‚
â”‚       - å‡†å¤‡æ¸²æŸ“ HomePage                                   â”‚
â”‚    â†“                                                        â”‚
â”‚    c) æ¸²æŸ“ HomePage.svelte                                  â”‚
â”‚       - æ‰§è¡Œ script ä»£ç                                     â”‚
â”‚       - åˆå§‹åŒ– $state å˜é‡                                  â”‚
â”‚       - ç”Ÿæˆé¡µé¢ HTML                                       â”‚
â”‚       - æ”¶é›†æ ·å¼                                            â”‚
â”‚    â†“                                                        â”‚
â”‚    d) æ¸²æŸ“ Counter.svelteï¼ˆå­ç»„ä»¶ï¼‰                         â”‚
â”‚       - ç”Ÿæˆè®¡æ•°å™¨ HTML                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 8. ç»„è£… HTML                                                â”‚
â”‚    - æ”¶é›†æ‰€æœ‰ CSS â†’ æ’å…¥ head                               â”‚
â”‚    - æ”¶é›†æ‰€æœ‰ HTML â†’ æ’å…¥ body                              â”‚
â”‚    - æ›¿æ¢ %sveltekit.head%                                  â”‚
â”‚    - æ›¿æ¢ %sveltekit.body%                                  â”‚
â”‚    - æ³¨å…¥ Vite å®¢æˆ·ç«¯è„šæœ¬ï¼ˆç”¨äº HMRï¼‰                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 9. è¿”å› HTTP å“åº”                                           â”‚
â”‚    HTTP/1.1 200 OK                                          â”‚
â”‚    Content-Type: text/html                                  â”‚
â”‚                                                             â”‚
â”‚    <!DOCTYPE html>...å®Œæ•´çš„ HTML...                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 10. æµè§ˆå™¨æ¥æ”¶å¹¶æ¸²æŸ“                                        â”‚
â”‚     - è§£æ HTML                                             â”‚
â”‚     - åŠ è½½ CSS                                              â”‚
â”‚     - ä¸‹è½½å¹¶æ‰§è¡Œ JavaScript                                 â”‚
â”‚     - åˆå§‹åŒ– Svelte ç»„ä»¶                                    â”‚
â”‚     - ç»‘å®šäº‹ä»¶ç›‘å¬                                          â”‚
â”‚     - å»ºç«‹ WebSocketï¼ˆHMRï¼‰                                 â”‚
â”‚     - æ˜¾ç¤ºé¡µé¢                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ’¡ å…³é”®ç†è§£ç‚¹

### 1. **ç«¯å£ 3001 æ˜¯ Vite æœåŠ¡å™¨**
   - Vite å¯åŠ¨äº†ä¸€ä¸ª HTTP æœåŠ¡å™¨
   - ç›‘å¬ 3001 ç«¯å£
   - ç­‰å¾…æµè§ˆå™¨çš„ HTTP è¯·æ±‚

### 2. **SvelteKit æ˜¯ Vite çš„æ’ä»¶**
   - é€šè¿‡ `plugins: [sveltekit()]` æ³¨å†Œ
   - æ‹¦æˆªæ‰€æœ‰ HTTP è¯·æ±‚
   - è´Ÿè´£è·¯ç”±åŒ¹é…å’Œé¡µé¢æ¸²æŸ“

### 3. **app.html æ˜¯çº¦å®šçš„æ¨¡æ¿**
   - SvelteKit è‡ªåŠ¨æŸ¥æ‰¾ `src/app.html`
   - è¿™æ˜¯æ¡†æ¶çº¦å®šï¼Œä¸éœ€è¦æ‰‹åŠ¨æŒ‡å®š
   - æ‰€æœ‰é¡µé¢éƒ½åŸºäºè¿™ä¸ªæ¨¡æ¿

### 4. **routes ç›®å½•åŸºäºæ–‡ä»¶ç³»ç»Ÿ**
   - URL è·¯å¾„è‡ªåŠ¨æ˜ å°„åˆ°æ–‡ä»¶
   - `/` â†’ `routes/+page.svelte`
   - `/about` â†’ `routes/about/+page.svelte`
   - æ¡†æ¶ä¼šè‡ªåŠ¨æ‰«æ routes ç›®å½•å»ºç«‹æ˜ å°„

### 5. **æ¸²æŸ“æ˜¯ä»å¤–åˆ°å†…çš„**
   ```
   app.html (æœ€å¤–å±‚)
     â†’ +layout.svelte (å¸ƒå±€å±‚)
       â†’ +page.svelte (è·¯ç”±å±‚)
         â†’ HomePage.svelte (é¡µé¢å±‚)
           â†’ Counter.svelte (ç»„ä»¶å±‚)
   ```

---

## ğŸ¯ ç±»æ¯”ç†è§£

**æŠŠæ•´ä¸ªè¿‡ç¨‹æ¯”ä½œé¤å…ç‚¹é¤ï¼š**

1. **ç«¯å£ 3001** = é¤å…åœ°å€
2. **HTTP è¯·æ±‚** = ä½ èµ°è¿›é¤å…è¯´"æˆ‘è¦ç‚¹é¤"
3. **Vite æœåŠ¡å™¨** = é¤å…å‰å°ï¼Œæ¥å¾…ä½ 
4. **SvelteKit æ’ä»¶** = æœåŠ¡å‘˜ï¼Œè´Ÿè´£å¤„ç†è®¢å•
5. **è·¯ç”±åŒ¹é…** = æœåŠ¡å‘˜æŸ¥èœå•ï¼Œæ‰¾åˆ°ä½ ç‚¹çš„èœ
6. **app.html** = å›ºå®šçš„ç›˜å­ï¼ˆå®¹å™¨ï¼‰
7. **+layout.svelte** = ç›˜å­çš„è£…é¥°ï¼ˆå›ºå®šæ‘†ç›˜ï¼‰
8. **+page.svelte** = èœå“çš„ç§ç±»ï¼ˆä¸»èœè¿˜æ˜¯ç”œç‚¹ï¼‰
9. **HomePage.svelte** = å…·ä½“çš„èœå“å†…å®¹
10. **è¿”å› HTML** = æœåŠ¡å‘˜ç«¯èœç»™ä½ 

æ¯æ¬¡ç‚¹é¤ï¼ˆè¯·æ±‚ï¼‰ï¼Œéƒ½ç”¨ç›¸åŒçš„ç›˜å­ï¼ˆapp.htmlï¼‰ï¼Œä½†è£…ä¸åŒçš„èœï¼ˆé¡µé¢å†…å®¹ï¼‰ï¼

---

è¿™æ ·ç†è§£æ¸…æ¥šäº†å—ï¼Ÿ ğŸ‰

